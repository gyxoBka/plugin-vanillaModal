const vModal=function(t){let e,n=!1,o=!1,i=!1,s=!1;const d=function(){const t=document.createElement("div");t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");e.style.width="100%",t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return document.body.removeChild(t),n}();const a=function(t){const e=document.createElement("div");e.classList.add("vmodal");const n=(t.transition.time?t.transition.time:300)/1e3+"s";e.insertAdjacentHTML("afterbegin",`\n            <div class="vmodal__overlay" data-close="close" style="transition-duration:${n}"></div>\n            <div class="vmodal__container ${t.transition.type.length&&"vmodal__container--"+t.transition.type}" data-container>\n                <div class="vmodal__header">\n                    <div class="vmodal__title" data-title>${t.title||""}</div>\n\n                    ${!0===t.close||!0===t.close.isClose&&!t.close.element?'<div class="vmodal__close vmodal__close--text" data-close="close">&#215;</div>':t.close.isClose?t.close.element:""}\n                \n                </div>\n                <div class="vmodal__body" data-body>${t.content||""}</div>\n            </div>\n        `);const o=e.querySelector("[data-container]");0!==t.width.length&&(o.style.width=t.width);o.style.transitionDuration=n,t.margin&&(o.style.margin=t.margin);return l(t.footer).appendAfter(e.querySelector("[data-body]")),document.body.appendChild(e),e}(t);function l(t){if(0===t.length)return document.createElement("div");const e=document.createElement("div");return e.setAttribute("data-footer",""),e.classList.add("vmodal__footer"),c(e,t.addClass),t.buttons.forEach(t=>{const n=document.createElement("button");n.textContent=t.text,c(n,t.class),"function"==typeof t.handler&&(n.onclick=t.handler),e.appendChild(n)}),e}function r(){const t=a.querySelector("[data-footer]");t&&t.parentNode.removeChild(t)}function c(t,e){if(e&&0!==e.length){e=e.trim().split(" ");for(let n=0;n<e.length;n++)t.classList.add(e[n])}}const m={open(){o||i||(n||(!function(){if(e=document.body.style.paddingRight||"",s=document.body.clientWidth<window.innerWidth,s){const t=parseInt(e||0,10);document.body.style.paddingRight=t+d+"px",document.body.style.overflowY="hidden"}}(),a.classList.add("open"),t.transition.type.length&&a.classList.add("open-"+t.transition.type),i=!0),"function"==typeof t.onOpen&&t.onOpen())},close(){n=!0,a.classList.remove("open"),a.classList.add("hide"),t.transition.type.length&&(a.classList.remove("open-"+t.transition.type),a.classList.add("hide-"+t.transition.type)),setTimeout(()=>{n=!1,i=!1,document.body.style.paddingRight=e,document.body.style.overflowY="auto",a.classList.remove("hide"),t.transition.type.length&&a.classList.remove("hide-"+t.transition.type),"function"==typeof t.onClose&&t.onClose()},t.transition.time?t.transition.time:300)}},y=t=>{t.target.getAttribute("data-close")&&m.close()};return t.close.isCloseDisabled||a.addEventListener("click",y),Object.assign(m,{destroy(){a.parentNode.removeChild(a),a.removeEventListener("click",y),o=!0},setContent(t){a.querySelector("[data-body]").innerHTML=t},setTitle(t){a.querySelector("[data-title]").innerHTML=t},setButtons(e){r(),t.footer.buttons=e,footer=l(t.footer),footer.appendAfter(a.querySelector("[data-body]"))},setTransition(e){if(i)return;const n=a.querySelector("[data-container]");e=e.trim(),t.transition.type.length&&n.classList.remove("vmodal__container--"+t.transition.type),t.transition.type=e,e.length&&n.classList.add("vmodal__container--"+t.transition.type)},removeFooter(){r()},getModalNode:()=>a,setModalCentered(e){t.modalCentered=e}})};Element.prototype.appendAfter=function(t){t.parentNode.insertBefore(this,t.nextSibling)},window.vModal=vModal;